# Yeh ArgoCD Application resource hai
# ArgoCD ko batata hai GitHub se kaunsa folder deploy karna hai

apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: demo-gitops-app
  namespace: argocd   # ðŸ‘ˆ ArgoCD namespace

spec:
  project: default

  source:
    repoURL: https://github.com/a9mol/argocd-gitops-demo  # ðŸ‘ˆ Apna GitHub repo
    targetRevision: HEAD
    path: app   # ðŸ‘ˆ GitHub ka folder jahan Kubernetes YAMLs hai

  destination:
    server: https://kubernetes.default.svc
    namespace: demo-app

  syncPolicy:
    automated:
      prune: true      # ðŸ‘ˆ Git me delete â†’ cluster se delete
      selfHeal: true   # ðŸ‘ˆ Drift auto fix

    syncOptions:
      - CreateNamespace=true   # ðŸ‘ˆ Namespace auto create

